{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>id</th>\n",
       "      <th>title</th>\n",
       "      <th>assignee</th>\n",
       "      <th>inventor/author</th>\n",
       "      <th>priority date</th>\n",
       "      <th>filing/creation date</th>\n",
       "      <th>publication date</th>\n",
       "      <th>grant date</th>\n",
       "      <th>result link</th>\n",
       "      <th>representative figure link</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>US-10052936-B2</td>\n",
       "      <td>Driver personalized climate conditioning</td>\n",
       "      <td>Ford Global Technologies, Llc</td>\n",
       "      <td>Kwaku O. Prakah-Asante, Jialiang Le, Manoharpr...</td>\n",
       "      <td>27/03/2012</td>\n",
       "      <td>29/03/2017</td>\n",
       "      <td>21/08/2018</td>\n",
       "      <td>21/08/2018</td>\n",
       "      <td>https://patents.google.com/patent/US10052936B2/en</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/c4...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>US-2021000020-A1</td>\n",
       "      <td>Horticulture lighting system and horticulture ...</td>\n",
       "      <td>Signify Holding B.V.</td>\n",
       "      <td>Celine Catherine Sarah Nicole, Hangfeng Ji, Cr...</td>\n",
       "      <td>04/09/2012</td>\n",
       "      <td>15/09/2020</td>\n",
       "      <td>07/01/2021</td>\n",
       "      <td>NaN</td>\n",
       "      <td>https://patents.google.com/patent/US2021000002...</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/ea...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>CN-105045377-B</td>\n",
       "      <td>Automotive touchscreen control for haptic feed...</td>\n",
       "      <td>福特全球技术公司</td>\n",
       "      <td>罗纳德·P·布龙巴赫, 劳拉·V·哈兹布鲁克, 约翰·R·范·维米尔斯, 赖安·E·汉森</td>\n",
       "      <td>28/04/2014</td>\n",
       "      <td>28/04/2015</td>\n",
       "      <td>27/11/2020</td>\n",
       "      <td>27/11/2020</td>\n",
       "      <td>https://patents.google.com/patent/CN105045377B/en</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>US-2018061415-A1</td>\n",
       "      <td>Methods and vehicles for capturing emotion of ...</td>\n",
       "      <td>Emerging Automotive, Llc</td>\n",
       "      <td>Angel A. Penilla, Albert S. Penilla</td>\n",
       "      <td>22/04/2011</td>\n",
       "      <td>18/10/2017</td>\n",
       "      <td>01/03/2018</td>\n",
       "      <td>NaN</td>\n",
       "      <td>https://patents.google.com/patent/US2018006141...</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/b3...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>US-2018056786-A1</td>\n",
       "      <td>Vehicle systems for identifying a driver</td>\n",
       "      <td>Invently Automotive Inc.</td>\n",
       "      <td>Martin Koebler, Nicole G. Goldstein, Stephen J...</td>\n",
       "      <td>17/11/2005</td>\n",
       "      <td>29/08/2017</td>\n",
       "      <td>01/03/2018</td>\n",
       "      <td>NaN</td>\n",
       "      <td>https://patents.google.com/patent/US2018005678...</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/86...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>70</th>\n",
       "      <td>US-9997096-B2</td>\n",
       "      <td>Display apparatus, electronic device including...</td>\n",
       "      <td>Samsung Electronics Co., Ltd.</td>\n",
       "      <td>Hyun-chang Shin</td>\n",
       "      <td>21/05/2014</td>\n",
       "      <td>21/05/2015</td>\n",
       "      <td>12/06/2018</td>\n",
       "      <td>12/06/2018</td>\n",
       "      <td>https://patents.google.com/patent/US9997096B2/en</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/59...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>71</th>\n",
       "      <td>JP-2017224620-A</td>\n",
       "      <td>Electroluminescent device and method for manuf...</td>\n",
       "      <td>ダークサイド サイエンティフィック， エルエルシーＤａｒｋｓｉｄｅ Ｓｃｉｅｎｔｉｆｉｃ， ...</td>\n",
       "      <td>ズジンコ アンドリュー, Zsinko Andrew, ズジンコ アンドリュー, ジェイ マ...</td>\n",
       "      <td>03/01/2012</td>\n",
       "      <td>27/07/2017</td>\n",
       "      <td>21/12/2017</td>\n",
       "      <td>NaN</td>\n",
       "      <td>https://patents.google.com/patent/JP2017224620...</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/e8...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>72</th>\n",
       "      <td>US-10185324-B1</td>\n",
       "      <td>Building elevation maps from laser data</td>\n",
       "      <td>Waymo Llc</td>\n",
       "      <td>Christopher Paul Urmson, Andrew Hughes Chatham...</td>\n",
       "      <td>04/08/2011</td>\n",
       "      <td>23/06/2017</td>\n",
       "      <td>22/01/2019</td>\n",
       "      <td>22/01/2019</td>\n",
       "      <td>https://patents.google.com/patent/US10185324B1/en</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/66...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>73</th>\n",
       "      <td>US-9280288-B2</td>\n",
       "      <td>Using logical block addresses with generation ...</td>\n",
       "      <td>Netapp, Inc.</td>\n",
       "      <td>Michael N. Condict, Steven R. Kleiman</td>\n",
       "      <td>30/10/2009</td>\n",
       "      <td>29/04/2015</td>\n",
       "      <td>08/03/2016</td>\n",
       "      <td>08/03/2016</td>\n",
       "      <td>https://patents.google.com/patent/US9280288B2/en</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/26...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>74</th>\n",
       "      <td>US-10102079-B2</td>\n",
       "      <td>Triggering discovery points based on change</td>\n",
       "      <td>Hytrust, Inc.</td>\n",
       "      <td>Paula Long, Damon Hsu-Hung, Eric Sondhi, Misha...</td>\n",
       "      <td>13/06/2013</td>\n",
       "      <td>22/12/2015</td>\n",
       "      <td>16/10/2018</td>\n",
       "      <td>16/10/2018</td>\n",
       "      <td>https://patents.google.com/patent/US10102079B2/en</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/0e...</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>75 rows × 10 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                  id                                              title  \\\n",
       "0     US-10052936-B2          Driver personalized climate conditioning    \n",
       "1   US-2021000020-A1  Horticulture lighting system and horticulture ...   \n",
       "2     CN-105045377-B  Automotive touchscreen control for haptic feed...   \n",
       "3   US-2018061415-A1  Methods and vehicles for capturing emotion of ...   \n",
       "4   US-2018056786-A1          Vehicle systems for identifying a driver    \n",
       "..               ...                                                ...   \n",
       "70     US-9997096-B2  Display apparatus, electronic device including...   \n",
       "71   JP-2017224620-A  Electroluminescent device and method for manuf...   \n",
       "72    US-10185324-B1           Building elevation maps from laser data    \n",
       "73     US-9280288-B2  Using logical block addresses with generation ...   \n",
       "74    US-10102079-B2       Triggering discovery points based on change    \n",
       "\n",
       "                                             assignee  \\\n",
       "0                       Ford Global Technologies, Llc   \n",
       "1                                Signify Holding B.V.   \n",
       "2                                            福特全球技术公司   \n",
       "3                            Emerging Automotive, Llc   \n",
       "4                            Invently Automotive Inc.   \n",
       "..                                                ...   \n",
       "70                      Samsung Electronics Co., Ltd.   \n",
       "71  ダークサイド サイエンティフィック， エルエルシーＤａｒｋｓｉｄｅ Ｓｃｉｅｎｔｉｆｉｃ， ...   \n",
       "72                                          Waymo Llc   \n",
       "73                                       Netapp, Inc.   \n",
       "74                                      Hytrust, Inc.   \n",
       "\n",
       "                                      inventor/author priority date  \\\n",
       "0   Kwaku O. Prakah-Asante, Jialiang Le, Manoharpr...    27/03/2012   \n",
       "1   Celine Catherine Sarah Nicole, Hangfeng Ji, Cr...    04/09/2012   \n",
       "2        罗纳德·P·布龙巴赫, 劳拉·V·哈兹布鲁克, 约翰·R·范·维米尔斯, 赖安·E·汉森    28/04/2014   \n",
       "3                 Angel A. Penilla, Albert S. Penilla    22/04/2011   \n",
       "4   Martin Koebler, Nicole G. Goldstein, Stephen J...    17/11/2005   \n",
       "..                                                ...           ...   \n",
       "70                                    Hyun-chang Shin    21/05/2014   \n",
       "71  ズジンコ アンドリュー, Zsinko Andrew, ズジンコ アンドリュー, ジェイ マ...    03/01/2012   \n",
       "72  Christopher Paul Urmson, Andrew Hughes Chatham...    04/08/2011   \n",
       "73              Michael N. Condict, Steven R. Kleiman    30/10/2009   \n",
       "74  Paula Long, Damon Hsu-Hung, Eric Sondhi, Misha...    13/06/2013   \n",
       "\n",
       "   filing/creation date publication date  grant date  \\\n",
       "0            29/03/2017       21/08/2018  21/08/2018   \n",
       "1            15/09/2020       07/01/2021         NaN   \n",
       "2            28/04/2015       27/11/2020  27/11/2020   \n",
       "3            18/10/2017       01/03/2018         NaN   \n",
       "4            29/08/2017       01/03/2018         NaN   \n",
       "..                  ...              ...         ...   \n",
       "70           21/05/2015       12/06/2018  12/06/2018   \n",
       "71           27/07/2017       21/12/2017         NaN   \n",
       "72           23/06/2017       22/01/2019  22/01/2019   \n",
       "73           29/04/2015       08/03/2016  08/03/2016   \n",
       "74           22/12/2015       16/10/2018  16/10/2018   \n",
       "\n",
       "                                          result link  \\\n",
       "0   https://patents.google.com/patent/US10052936B2/en   \n",
       "1   https://patents.google.com/patent/US2021000002...   \n",
       "2   https://patents.google.com/patent/CN105045377B/en   \n",
       "3   https://patents.google.com/patent/US2018006141...   \n",
       "4   https://patents.google.com/patent/US2018005678...   \n",
       "..                                                ...   \n",
       "70   https://patents.google.com/patent/US9997096B2/en   \n",
       "71  https://patents.google.com/patent/JP2017224620...   \n",
       "72  https://patents.google.com/patent/US10185324B1/en   \n",
       "73   https://patents.google.com/patent/US9280288B2/en   \n",
       "74  https://patents.google.com/patent/US10102079B2/en   \n",
       "\n",
       "                           representative figure link  \n",
       "0   https://patentimages.storage.googleapis.com/c4...  \n",
       "1   https://patentimages.storage.googleapis.com/ea...  \n",
       "2                                                 NaN  \n",
       "3   https://patentimages.storage.googleapis.com/b3...  \n",
       "4   https://patentimages.storage.googleapis.com/86...  \n",
       "..                                                ...  \n",
       "70  https://patentimages.storage.googleapis.com/59...  \n",
       "71  https://patentimages.storage.googleapis.com/e8...  \n",
       "72  https://patentimages.storage.googleapis.com/66...  \n",
       "73  https://patentimages.storage.googleapis.com/26...  \n",
       "74  https://patentimages.storage.googleapis.com/0e...  \n",
       "\n",
       "[75 rows x 10 columns]"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# load csv to pandas\n",
    "import pandas as pd\n",
    "\n",
    "df = pd.read_csv (r'patentdatacleaned.csv')\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Import packages \n",
    "import google_patent_scraper\n",
    "from google_patent_scraper import scraper_class\n",
    "from bs4 import BeautifulSoup\n",
    "import requests\n",
    "\n",
    "# Initialize scraper class \n",
    "scraper=scraper_class(return_abstract=True) \n",
    "\n",
    "result_list = (list(df[\"result link\"]))\n",
    "\n",
    "abstract_list = list()\n",
    "\n",
    "for index,row in df.iterrows():\n",
    "    patent = row['id'].replace(\"-\",\"\")\n",
    "    url = row[\"result link\"]\n",
    "    soup = BeautifulSoup(requests.get(url).content,'html.parser')\n",
    "    patent_1_parsed = scraper.get_scraped_data(soup,patent,url)\n",
    "    abstract_list.append(patent_1_parsed['abstract_text'].strip())\n",
    "    #print(patent_1_parsed['abstract_text'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>id</th>\n",
       "      <th>title</th>\n",
       "      <th>assignee</th>\n",
       "      <th>inventor/author</th>\n",
       "      <th>priority date</th>\n",
       "      <th>filing/creation date</th>\n",
       "      <th>publication date</th>\n",
       "      <th>grant date</th>\n",
       "      <th>result link</th>\n",
       "      <th>representative figure link</th>\n",
       "      <th>abstract</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>US-10052936-B2</td>\n",
       "      <td>Driver personalized climate conditioning</td>\n",
       "      <td>Ford Global Technologies, Llc</td>\n",
       "      <td>Kwaku O. Prakah-Asante, Jialiang Le, Manoharpr...</td>\n",
       "      <td>27/03/2012</td>\n",
       "      <td>29/03/2017</td>\n",
       "      <td>21/08/2018</td>\n",
       "      <td>21/08/2018</td>\n",
       "      <td>https://patents.google.com/patent/US10052936B2/en</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/c4...</td>\n",
       "      <td>\\n     A single system merges primary data sto...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>US-2021000020-A1</td>\n",
       "      <td>Horticulture lighting system and horticulture ...</td>\n",
       "      <td>Signify Holding B.V.</td>\n",
       "      <td>Celine Catherine Sarah Nicole, Hangfeng Ji, Cr...</td>\n",
       "      <td>04/09/2012</td>\n",
       "      <td>15/09/2020</td>\n",
       "      <td>07/01/2021</td>\n",
       "      <td>NaN</td>\n",
       "      <td>https://patents.google.com/patent/US2021000002...</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/ea...</td>\n",
       "      <td>\\n     A single system merges primary data sto...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>CN-105045377-B</td>\n",
       "      <td>Automotive touchscreen control for haptic feed...</td>\n",
       "      <td>福特全球技术公司</td>\n",
       "      <td>罗纳德·P·布龙巴赫, 劳拉·V·哈兹布鲁克, 约翰·R·范·维米尔斯, 赖安·E·汉森</td>\n",
       "      <td>28/04/2014</td>\n",
       "      <td>28/04/2015</td>\n",
       "      <td>27/11/2020</td>\n",
       "      <td>27/11/2020</td>\n",
       "      <td>https://patents.google.com/patent/CN105045377B/en</td>\n",
       "      <td>NaN</td>\n",
       "      <td>\\n     A single system merges primary data sto...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>US-2018061415-A1</td>\n",
       "      <td>Methods and vehicles for capturing emotion of ...</td>\n",
       "      <td>Emerging Automotive, Llc</td>\n",
       "      <td>Angel A. Penilla, Albert S. Penilla</td>\n",
       "      <td>22/04/2011</td>\n",
       "      <td>18/10/2017</td>\n",
       "      <td>01/03/2018</td>\n",
       "      <td>NaN</td>\n",
       "      <td>https://patents.google.com/patent/US2018006141...</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/b3...</td>\n",
       "      <td>\\n     A single system merges primary data sto...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>US-2018056786-A1</td>\n",
       "      <td>Vehicle systems for identifying a driver</td>\n",
       "      <td>Invently Automotive Inc.</td>\n",
       "      <td>Martin Koebler, Nicole G. Goldstein, Stephen J...</td>\n",
       "      <td>17/11/2005</td>\n",
       "      <td>29/08/2017</td>\n",
       "      <td>01/03/2018</td>\n",
       "      <td>NaN</td>\n",
       "      <td>https://patents.google.com/patent/US2018005678...</td>\n",
       "      <td>https://patentimages.storage.googleapis.com/86...</td>\n",
       "      <td>\\n     A single system merges primary data sto...</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                 id                                              title  \\\n",
       "0    US-10052936-B2          Driver personalized climate conditioning    \n",
       "1  US-2021000020-A1  Horticulture lighting system and horticulture ...   \n",
       "2    CN-105045377-B  Automotive touchscreen control for haptic feed...   \n",
       "3  US-2018061415-A1  Methods and vehicles for capturing emotion of ...   \n",
       "4  US-2018056786-A1          Vehicle systems for identifying a driver    \n",
       "\n",
       "                        assignee  \\\n",
       "0  Ford Global Technologies, Llc   \n",
       "1           Signify Holding B.V.   \n",
       "2                       福特全球技术公司   \n",
       "3       Emerging Automotive, Llc   \n",
       "4       Invently Automotive Inc.   \n",
       "\n",
       "                                     inventor/author priority date  \\\n",
       "0  Kwaku O. Prakah-Asante, Jialiang Le, Manoharpr...    27/03/2012   \n",
       "1  Celine Catherine Sarah Nicole, Hangfeng Ji, Cr...    04/09/2012   \n",
       "2       罗纳德·P·布龙巴赫, 劳拉·V·哈兹布鲁克, 约翰·R·范·维米尔斯, 赖安·E·汉森    28/04/2014   \n",
       "3                Angel A. Penilla, Albert S. Penilla    22/04/2011   \n",
       "4  Martin Koebler, Nicole G. Goldstein, Stephen J...    17/11/2005   \n",
       "\n",
       "  filing/creation date publication date  grant date  \\\n",
       "0           29/03/2017       21/08/2018  21/08/2018   \n",
       "1           15/09/2020       07/01/2021         NaN   \n",
       "2           28/04/2015       27/11/2020  27/11/2020   \n",
       "3           18/10/2017       01/03/2018         NaN   \n",
       "4           29/08/2017       01/03/2018         NaN   \n",
       "\n",
       "                                         result link  \\\n",
       "0  https://patents.google.com/patent/US10052936B2/en   \n",
       "1  https://patents.google.com/patent/US2021000002...   \n",
       "2  https://patents.google.com/patent/CN105045377B/en   \n",
       "3  https://patents.google.com/patent/US2018006141...   \n",
       "4  https://patents.google.com/patent/US2018005678...   \n",
       "\n",
       "                          representative figure link  \\\n",
       "0  https://patentimages.storage.googleapis.com/c4...   \n",
       "1  https://patentimages.storage.googleapis.com/ea...   \n",
       "2                                                NaN   \n",
       "3  https://patentimages.storage.googleapis.com/b3...   \n",
       "4  https://patentimages.storage.googleapis.com/86...   \n",
       "\n",
       "                                            abstract  \n",
       "0  \\n     A single system merges primary data sto...  \n",
       "1  \\n     A single system merges primary data sto...  \n",
       "2  \\n     A single system merges primary data sto...  \n",
       "3  \\n     A single system merges primary data sto...  \n",
       "4  \\n     A single system merges primary data sto...  "
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "abstract_list"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "df2 = df.assign(abstract = abstract_list) \n",
    "df2.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [],
   "source": [
    "df2.to_csv('patents1.csv')"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
